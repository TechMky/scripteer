(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{306:function(e,t,n){},464:function(e,t){},466:function(e,t){},479:function(e,t){},481:function(e,t){},509:function(e,t){},510:function(e,t){},515:function(e,t){},517:function(e,t){},524:function(e,t){},543:function(e,t){},578:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(36),c=n.n(s),i=n(189),o=n(26),u=(n(306),n(297)),l=n(74),d=n(57),p=n.n(d),b=n(82),m=n(285),j=n.n(m),h="https://pluto.attainu.com/",f={operationName:null,variables:{email:"",password:"",appType:"UNI"},query:"mutation ($email: String!, $password: String!, $appType: String!) {\n  login(data: {email: $email, password: $password, appType: $appType}) {\n    success\n    token\n    message\n    userId\n    userRoles\n    data {\n      name\n      email\n      phone\n      paymentDetailsId\n      __typename\n    }\n    __typename\n  }\n}\n"},_={operationName:null,variables:{},query:"{\n  batches {\n    success\n    message\n    data {\n      course_id\n      batch_id\n      name\n      start_date\n      title\n      __typename\n    }\n    __typename\n  }\n}\n"},v={operationName:null,variables:{batch_id:17,instructor_id:93044},query:"query ($batch_id: Int!, $instructor_id: Int!) {\n  instFeedback(batch_id: $batch_id, instructor_id: $instructor_id) {\n    success\n    message\n    data {\n      curriculum_name\n      attendance_id\n      rating\n      feedback\n      student_id\n      session_created_at\n      attendances_at\n      __typename\n    }\n    __typename\n  }\n}\n"},O={operationName:null,variables:{batch_id:17},query:"query ($batch_id: Int!, $test_id: Int) {\n  getAllStudents(batch_id: $batch_id, test_id: $test_id) {\n    success\n    message\n    data {\n      user_id\n      name\n      email\n      roll_number\n      is_active\n      submission_url {\n        github_url\n        deployed_url\n        hackerrank\n        hackerearth\n        project_report\n        google_drive\n        __typename\n      }\n      status\n      result\n      scores {\n        topic_id\n        topic_name\n        marks\n        max_mark\n        __typename\n      }\n      plag_result {\n        percent\n        url\n        __typename\n      }\n      plag_false_positive\n      feedback_for_plag\n      plag_completed_at\n      plag_error\n      __typename\n    }\n    __typename\n  }\n}\n"};console.log("\ud83d\ude80 ~ process.env.EMAIL",Object({NODE_ENV:"production",PUBLIC_URL:"/scripteer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAIL:"yashasvi.sinha@attainu.com",REACT_APP_PASSWORD:"attainu123"}).EMAIL);var x=j.a.create({baseURL:h,method:"POST"});function g(e){x.interceptors.request.use((function(t){return t.headers.Authorization=e?"Bearer ".concat(e):"",t}))}function y(e,t){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(p.a.mark((function e(t,n){var a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=f).variables.email=t,a.variables.password=n,e.prev=3,e.next=6,x.post("/",a);case 6:return r=e.sent.data,console.log("\ud83d\ude80 ~ file: service.js ~ line 16 ~ getToken ~ response",r),g(s=r.data.login.token),localStorage.setItem("token",s),e.abrupt("return",{err:null,token:s});case 14:return e.prev=14,e.t0=e.catch(3),console.log("\ud83d\ude80 ~ file: service.js ~ line 19 ~ getToken ~ error",e.t0),e.abrupt("return",{err:e.t0});case 18:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function w(){return(w=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_,e.prev=1,e.next=4,x.post("/",t);case 4:return n=e.sent.data,console.log("\ud83d\ude80 ~ file: service.js ~ line 39 ~ getAllBatch ~ response",n),e.abrupt("return",{err:null,batches:n.data.batches.data});case 9:return e.prev=9,e.t0=e.catch(1),console.log("\ud83d\ude80 ~ file: service.js ~ line 44 ~ getAllBatch ~ error",e.t0),e.abrupt("return",{err:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function S(){return(S=Object(b.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=O).variables.batch_id=t,e.prev=2,e.next=5,x.post("/",n);case 5:return a=e.sent.data,console.log("\ud83d\ude80 ~ file: service.js ~ line 39 ~ getAllStudents ~ response",a),e.abrupt("return",{err:null,students:a.data.getAllStudents.data});case 10:return e.prev=10,e.t0=e.catch(2),console.log("\ud83d\ude80 ~ file: service.js ~ line 44 ~ getAllStudents ~ error",e.t0),e.abrupt("return",{err:e.t0});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function I(){return(I=Object(b.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=v).variables.batch_id=n,a.variables.instructor_id=t,e.prev=3,e.next=6,x.post("/",a);case 6:return r=e.sent.data,console.log("\ud83d\ude80 ~ file: service.js ~ line 39 ~ getInstructorFeedback ~ response",r),e.abrupt("return",{err:null,feedbacks:r.data.instFeedback.data});case 11:return e.prev=11,e.t0=e.catch(3),console.log("\ud83d\ude80 ~ file: service.js ~ line 44 ~ getInstructorFeedback ~ error",e.t0),e.abrupt("return",{err:e.t0});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}var N=n(11),T=r.a.createContext({});function A(e){var t=localStorage.getItem("token");t&&g(t);var n=Object(a.useState)(t||null),r=Object(l.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)([]),o=Object(l.a)(i,2),u=o[0],d=o[1],p=Object(a.useState)(0),b=Object(l.a)(p,2),m=b[0],j=b[1];return Object(N.jsx)(T.Provider,{value:{token:s,setToken:function(e){g(e),c(e)},batches:u,setBatches:d,activeBatch:m,setActiveBatch:j},children:e.children})}T.Consumer;var E=T,B=n(110),C=n(58),P=n(583),$=n(287),D=n.n($);var F=Object(o.g)((function(e){var t=Object(a.useContext)(E),n=t.batches,r=t.setBatches,s=t.activeBatch,c=t.setActiveBatch;return Object(a.useEffect)((function(){(function(){return w.apply(this,arguments)})().then((function(t){var n=t.batches;Array.isArray(n)?(r(Object(u.a)(n)),c(n[0].batch_id)):e.history.push("/login")}))}),[r,c,e.history]),Object(N.jsx)(B.a,{gutter:16,className:"my-2",children:n.map((function(e){var t=e.batch_id,n=e.name;return Object(N.jsx)(C.a,{children:Object(N.jsx)(P.a,{hoverable:!0,onClick:function(){return c(t)},className:"".concat(s===t?"active-batch":""," "),children:Object(N.jsx)(D.a,{title:n,description:"Batch Id: ".concat(t)})},t)},t)}))})})),R=n(291),q=n(586),L=n(582);var H=function(e){var t=e.feedbacks,n=e.students,a={},r=null===t||void 0===t?void 0:t.map((function(e,t){var r,s,c={};return a[e.student_id]?c=a[e.student_id]:(s=e.student_id,c=n.filter((function(e){return e.user_id===s}))[0],a[e.student_id]=c),{key:"".concat(e.student_id,"-").concat(t),curriculumName:e.curriculum_name,studentId:e.student_id,studentName:null===(r=c)||void 0===r?void 0:r.name,feedbackText:e.feedback,rating:e.rating,sessionDate:e.session_created_at}})),s=[{title:"Curriculum Name",key:"curriculumName",dataIndex:"curriculumName"},{title:"Rating",key:"rating",dataIndex:"rating",render:function(e){return Object(N.jsx)(q.a,{allowHalf:!0,disabled:!0,value:e})}},{title:"Feedback",key:"feedbackText",dataIndex:"feedbackText"},{title:"Student Name",key:"studentName",dataIndex:"studentName"},{title:"Date",key:"sessionDate",dataIndex:"sessionDate",render:function(e){return new Date(Number(e)).toLocaleDateString("en-GB",{month:"short",year:"numeric",day:"numeric"})}}];return Object(N.jsx)("div",{children:Object(N.jsx)(L.a,{columns:s,dataSource:r})})};var W=function(){var e=Object(a.useContext)(E),t=e.activeBatch,n=e.token,r=Object(a.useState)([]),s=Object(l.a)(r,2),c=s[0],i=s[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),d=u[0],p=u[1];return Object(a.useEffect)((function(){var e=function(e){return S.apply(this,arguments)}(t),a=function(e,t){return I.apply(this,arguments)}(Object(R.decode)(n,{complete:!0}).payload.userId,t);return Promise.all([e,a]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];i(n.students),p(a.feedbacks)})),function(){i([]),p([])}}),[t,i,n]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(H,{students:c,feedbacks:d})})},U="/scripteer",K="".concat(U,"/login");var M=function(){return Object(a.useContext)(E).token?Object(N.jsxs)("div",{className:"Home",children:[Object(N.jsx)(F,{}),Object(N.jsx)(W,{})]}):Object(N.jsx)(o.a,{to:K})},J=n(584),V=n(585),z=n(67),G=n(587),Q=n(588);var X=Object(o.g)((function(e){var t=Object(a.useContext)(E).setToken,n=function(){var n=Object(b.a)(p.a.mark((function n(a){var r,s,c,i,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Success:",a),r=a.email,s=a.password,n.next=4,y(r,s);case 4:c=n.sent,i=c.err,o=c.token,i||(t(o),e.history.push(U));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(N.jsx)(B.a,{justify:"center",children:Object(N.jsx)(C.a,{span:12,md:8,children:Object(N.jsxs)(J.a,{name:"normal_login",className:"login-form",initialValues:{email:"",password:""},onFinish:n,style:{margin:"1rem 1rem"},children:[Object(N.jsx)(J.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(N.jsx)(V.a,{prefix:Object(N.jsx)(G.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(N.jsx)(J.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(N.jsx)(V.a,{prefix:Object(N.jsx)(Q.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(N.jsx)(J.a.Item,{children:Object(N.jsx)(z.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"})})]})})})})),Y=n(581),Z=Y.a.Content,ee=Y.a.Header,te=Y.a.Footer;var ne=function(e){return Object(N.jsxs)(Y.a,{children:[Object(N.jsx)(ee,{}),Object(N.jsx)(Z,{children:Object(N.jsx)(B.a,{justify:"center",children:Object(N.jsx)(C.a,{span:22,children:e.children})})}),Object(N.jsx)(te,{children:"Footer"})]})};var ae=function(){return Object(N.jsx)(A,{children:Object(N.jsx)(ne,{children:Object(N.jsx)(i.a,{children:Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{path:"/login",children:Object(N.jsx)(X,{})}),Object(N.jsx)(o.b,{path:"/",children:Object(N.jsx)(M,{})})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(N.jsx)(ae,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[578,1,2]]]);
//# sourceMappingURL=main.5094e4a3.chunk.js.map